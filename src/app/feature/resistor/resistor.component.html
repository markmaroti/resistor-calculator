<h1>Resistor Color Code Calculator</h1>
<app-resistor-preview
  [bandCount]="viewModel().bandCount"
  [digit1]="store.digit1()"
  [digit2]="store.digit2()"
  [digit3]="store.digit3()"
  [multiplier]="store.multiplier()"
  [tolerance]="store.tolerance()"
  [tcr]="store.tcr()"
/>

<ul class="resistor-controls">
  <li>
    <app-select
      label="Bands"
      [options]="bandCounts"
      [value]="store.bandCount()"
      (valueChange)="onBandCountChange($event)"
    />
  </li>
  <li>
    <app-select
      label="Band 1 (Digit)"
      [options]="digitColors"
      [value]="store.digit1()"
      (valueChange)="store.digit1.set($event)"
    />
  </li>
  <li>
    <app-select
      label="Band 2 (Digit)"
      [options]="digitColors"
      [value]="store.digit2()"
      (valueChange)="store.digit2.set($event)"
    />
  </li>
  @if (store.bandCount() !== 4) {
  <li>
    <app-select
      label="Band 3 (Digit)"
      [options]="digitColors"
      [value]="store.digit3()"
      (valueChange)="store.digit3.set($event)"
    />
  </li>
  }
  <li>
    <app-select
      label="Multiplier"
      [options]="multiplierColors"
      [value]="store.multiplier()"
      (valueChange)="store.multiplier.set($event)"
    />
  </li>

  <li>
    <app-select
      label="Tolerance"
      [options]="toleranceColors"
      [value]="store.tolerance()"
      (valueChange)="store.tolerance.set($event)"
    />
  </li>

  @if (store.bandCount() === 6) {
  <li>
    <app-select
      label="TCR (ppm/°C)"
      [options]="tcrColors"
      [value]="store.tcr()"
      (valueChange)="store.tcr.set($event)"
    />
  </li>
  }
</ul>

<p>
  @if (viewModel().ohms > 0) { Resistance:
  <strong>{{ viewModel().ohms | ohms}}</strong>
  @if (viewModel().tolerancePct !== null) {
  <span> ± {{ viewModel().tolerancePct }}%</span>
  } @if (viewModel().tcrPpm !== null) {
  <span> ({{ viewModel().tcrPpm }} ppm/°C)</span>
  } }
</p>
